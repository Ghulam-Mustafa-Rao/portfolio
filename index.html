<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ghulam Mustafa Rao — Game & Dev Portfolio</title>
  <meta name="description" content="Portfolio — Unity Game Developer, projects, screenshots, videos, Play Store links" />
  <link rel="icon" href="assets/favicon.png" />

  <!-- Font Awesome for icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    integrity="sha512-RXf+QSDCUQs6h9Q8z5YpWQ+2N2TVA5vCjJ0HkaZf3XzLdh+Okn9DClN1UuXyqYYqU4f9G92sA2ZVJZgA6V8FZg=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <style>
    :root{
      --bg:#ffffff; --muted:#6b7280; --accent:#0f172a; --card:#f8fafc; --primary:#2563eb;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; overflow-x:hidden}
    body{
      font-family:Inter,system-ui,Roboto,Arial;
      background:var(--bg); color:var(--accent); line-height:1.5;
    }
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    header{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:20px 0}
    .brand{display:flex;gap:16px;align-items:center}
    .logo img{width:80px;height:80px;border-radius:50%}
    h1{margin:0;font-size:clamp(20px,3.5vw,32px)}
    p.lead{margin:8px 0 0;color:var(--muted)}
    .btn{padding:10px 14px;border-radius:8px;border:1px solid #e6e9ef;background:#fff;cursor:pointer;text-decoration:none;color:inherit;display:inline-block;text-align:center}
    .btn-primary{background:var(--primary);color:#fff;border:none}
    .hero{margin-top:28px;align-items:center}
    .about{background:var(--card);padding:20px;border-radius:12px}
    .projects{margin-top:40px}
    .card{background:var(--card);padding:1%;border-radius:12px;border:1px solid #eef2f6;margin-bottom:20px;position:relative;overflow:hidden}
    .meta .title{font-weight:700;font-size:20px;margin-bottom:8px}

    /* --- Gallery Layout --- */
    .gallery-wrapper {position: relative;margin-top:12px;flex-wrap: wrap;overflow: hidden;padding: 0 2%;max-width: 100%}
    .gallery {display:flex;align-items: center;gap:10px;overflow-x:auto;overflow-y:hidden;padding:10px;scroll-behavior:smooth;width:100%;max-width:100vw;-webkit-overflow-scrolling:touch;}
    .gallery::-webkit-scrollbar{height:8px}
    .gallery::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:999px}

    .screenshot {flex: 0 0 auto;border-radius: 8px;overflow: hidden;background: #fff;border: 1px solid #e6edf3;display: flex;align-items: center;justify-content: center;}
    .screenshot img {width: 100%;height: 100%;object-fit: contain;display: block;background-color: #fff;}
    .video {flex: 0 0 auto;width: 350px;height: 200px;border-radius: 8px;overflow: hidden;background: #000;display: flex;justify-content: center;align-items: center;}
    .video iframe {width: 100%;height: 100%;border: none;border-radius: 8px;}

    /* scroll buttons */
    .scroll-btn {position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);color:#fff;border:none;border-radius:50%;width:34px;height:34px;cursor:pointer;z-index:5;display:none;}
    .scroll-btn.left { left:6px; }
    .scroll-btn.right { right:6px; }

    @media(max-width:880px){
      .hero{grid-template-columns:1fr}
      .video{height:200px;width:300px}
    }

    /* --- Contact Section Styling --- */
    .contact-card {
      position: sticky;
      top: 24px;
      text-align: center;
      padding: 30px 20px;
      border-radius: 12px;
      background: var(--card);
      border: 1px solid #e5e7eb;
      box-shadow: 0 4px 12px rgba(0,0,0,0.03);
      transition: all 0.3s ease;
      animation: fadeInUp 1s ease forwards;
      opacity: 0;
      transform: translateY(30px);
    }

    .contact-card:hover {
      box-shadow: 0 6px 20px rgba(0,0,0,0.06);
      transform: translateY(-2px);
    }

    .contact-card h3 {
      font-size: 1.4rem;
      margin-bottom: 12px;
    }

    .contact-card p {
      color: var(--muted);
      margin-bottom: 20px;
      font-size: 0.95rem;
    }

    .contact-icons {
      display: flex;
      justify-content: center;
      gap: 18px;
      margin-top: 10px;
    }

    .contact-icons a {
      font-size: 1.8rem;
      color: #6b7280; /* gray default */
      transition: all 0.3s ease;
    }

    /* hover colors */
    .contact-icons a.github:hover { color: #181717; }   /* GitHub black */
    .contact-icons a.linkedin:hover { color: #0077b5; } /* LinkedIn blue */
    .contact-icons a.email:hover { color: #d93025; }    /* Gmail red */

    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo"><img src="assets/profile.jpeg" alt="Profile" /></div>
        <div><h1>Ghulam Mustafa Rao</h1><p class="lead">Unity Game Developer · Multiplayer · Mobile · AI</p></div>
      </div>
      <nav>
        <a class="btn" href="https://github.com/Ghulam-Mustafa-Rao">GitHub</a>
        <a class="btn" href="https://www.linkedin.com/in/ghulammustafarao/">LinkedIn</a>
      </nav>
    </header>

    <section class="hero">
      <div>
        <div class="about">
          <h2>About</h2>
          <p id="about-text">
            Accomplished Unity Game Developer with 3+ years of coding experience in C# and Unity. Experienced in FPS, simulation, puzzle, PC, and blockchain games with advanced AI, optimized performance, and engaging mechanics. Skilled in monetization (Google Ads, AppLovin, IronSource), analytics (Firebase, Appsflyer, Game Analytics), and multiplayer systems (Photon, Mirror, Fusion 2).
          </p>
          <div class="cv-actions">
            <a class="btn btn-primary" href="Ghulam_Mustafa_Rao_Games.pdf" download>Download CV</a>
          </div>          
        </div>

        <section class="projects">
          <h2>Selected Projects</h2>
        </section>
      </div>

      <!-- Enhanced Contact Section -->
      <aside style="width:100%;max-width:320px">
        <div class="contact-card">
          <h3>Contact</h3>
          <p>Let's connect and discuss opportunities.</p>
          <a href="mailto:ghulam.mustafa.rao.dev@gmail.com" style="color:var(--primary);font-weight:600;text-decoration:none;">
            ghulam.mustafa.rao.dev@gmail.com
          </a>
          <div class="contact-icons">
            <a href="https://github.com/Ghulam-Mustafa-Rao" class="github" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
            <a href="https://www.linkedin.com/in/ghulammustafarao/" class="linkedin" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
            <a href="mailto:ghulam.mustafa.rao.dev@gmail.com" class="email" aria-label="Email"><i class="fas fa-envelope"></i></a>
          </div>
        </div>
      </aside>
    </section>

    <footer>Built with ❤️ by Ghulam Mustafa Rao • <span id="year"></span></footer>
  </div>

  <div class="lightbox" id="lightbox" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);align-items:center;justify-content:center;z-index:9999">
    <img src="" alt="preview" style="max-width:90%;max-height:90%;border-radius:12px" />
  </div>

<script>
async function loadProjects(){
  try{
    const res = await fetch("GamesData.json");
    const projects = await res.json();
    const container = document.querySelector(".projects");
    container.innerHTML = `<h2>Selected Projects</h2><div id="projects-container"></div>`;
    const projectsContainer = container.querySelector("#projects-container");

    projects.forEach(proj => {
      const article = document.createElement("article");
      article.className = "card";
      const descItems = (proj.Description||"").split(";").map(s=>`<li>${s.trim()}</li>`).join("");
      article.innerHTML = `
        <div class="meta">
          <div class="title">${proj.Title}</div>
          <div class="gallery-wrapper">
            <button class="scroll-btn left">‹</button>
            <div class="gallery" data-folder="${proj.Folder}">
              ${proj.Videos?.map(v => `
                <div class="video">
                  <iframe src="https://www.youtube.com/embed/${v.split("v=")[1].split("&")[0]}" allowfullscreen></iframe>
                </div>`).join("") || ""}
            </div>
            <button class="scroll-btn right">›</button>
          </div>
          <ul style="font-size:13px;color:var(--muted);margin-top:8px">${descItems}</ul>
          <div style="margin-top:10px">
            ${proj.StoreLink?.trim() ? `<a class="btn btn-primary" href="${proj.StoreLink}" target="_blank">${proj.ButtonText || "View Project"}</a>` : ""}
          </div>
        </div>`;
      projectsContainer.appendChild(article);
    });

    const lightbox = document.getElementById("lightbox");
    const lightboxImg = lightbox.querySelector("img");

    document.querySelectorAll(".gallery").forEach(gallery => {
      const folder = gallery.dataset.folder;
      if(!folder) return;
      const wrapper = gallery.parentElement;
      const btnLeft = wrapper.querySelector(".scroll-btn.left");
      const btnRight = wrapper.querySelector(".scroll-btn.right");

      function updateButtonsVisibility(){
        const maxScroll = gallery.scrollWidth - gallery.clientWidth;
        if(maxScroll <= 1){btnLeft.style.display='none';btnRight.style.display='none';}
        else{
          btnLeft.style.display = gallery.scrollLeft > 5 ? 'block' : 'none';
          btnRight.style.display = gallery.scrollLeft < maxScroll - 5 ? 'block' : 'none';
        }
      }

      btnLeft.onclick=()=>gallery.scrollBy({left:-240,behavior:'smooth'});
      btnRight.onclick=()=>gallery.scrollBy({left:240,behavior:'smooth'});
      gallery.addEventListener('scroll',updateButtonsVisibility);
      window.addEventListener('resize',updateButtonsVisibility);

      let i=0;const extensions=["jpeg","jpg","png","webp"];
      function tryLoad(){
        let tried=0;
        function tryNextExt(){
          if(tried>=extensions.length){setTimeout(updateButtonsVisibility,40);return;}
          const ext=extensions[tried];
          const path=`${folder}/${i}.${ext}`;
          const img=new Image();img.src=path;
          img.onload=()=>{
            const div=document.createElement('div');div.className='screenshot';div.appendChild(img);
            if(img.naturalWidth>img.naturalHeight){div.style.width='350px';div.style.height='200px';}
            else{div.style.width='200px';div.style.height='350px';}
            const lastVideo=gallery.querySelector('.video:last-of-type');
            if(lastVideo){gallery.insertBefore(div,lastVideo.nextSibling);}else{gallery.appendChild(div);}
            img.onclick=()=>{lightbox.style.display='flex';lightboxImg.src=img.src;}
            setTimeout(updateButtonsVisibility,40);
            i++;tryLoad();
          };
          img.onerror=()=>{tried++;tryNextExt();};
        }
        tryNextExt();
      }
      tryLoad();
      lightbox.onclick=()=>lightbox.style.display='none';
    });
  }catch(e){console.error("Error loading GamesData.json:",e);}
}
loadProjects();
document.getElementById('year').textContent=new Date().getFullYear();
</script>
</body>
</html>
